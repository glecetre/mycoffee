(this["webpackJsonpmy-coffee"]=this["webpackJsonpmy-coffee"]||[]).push([[0],{13:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s}));var n=r(7),c=r(1);function i(e){return document.title="".concat(e.browserTitle&&e.browserTitle+" \xb7 ","My Coffe"),Object(c.jsxs)(c.Fragment,{children:[e.heading&&Object(c.jsx)(n.d,{children:e.heading}),Object(c.jsx)("div",{className:"relative h-full flex flex-col",children:e.children})]})}var a=r(6);function s(e){var t=e.children;return Object(c.jsxs)("div",{className:"h-screen pb-4 grid grid-rows-topMenuLayout-content",children:[Object(c.jsx)(a.b,{}),Object(c.jsx)("main",{className:"h-100 flex flex-col p-4 pb-6 overflow-auto",children:t}),Object(c.jsx)(a.d,{})]})}},14:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return d}));var n=r(1);var c=r(8),i=r(6);function a(e){var t={onClick:e.onClick,className:e.className};return e.href?Object(n.jsx)(i.c,Object(c.a)(Object(c.a)({href:e.href},t),{},{children:e.children})):Object(n.jsx)("button",Object(c.a)(Object(c.a)({},t),{},{children:e.children}))}var s=r(9),l=r.n(s);function o(e){return Object(n.jsx)(a,{href:e.href,onClick:e.onClick,className:"rounded-full outline-none focus-within:ring",children:Object(n.jsx)("div",{className:l()("py-2 px-6 rounded-full text-primary-500 active:text-white bg-primary-100 active:bg-primary-500 text-center",e.className),children:e.children})})}function u(e){return Object(n.jsx)("button",{onClick:e.onClick,className:l()({"p-2":"normal"===e.size},{"p-4":"lg"===e.size},"rounded-full text-primary-500 bg-primary-100 active:text-white active:bg-primary-500 focus:ring outline-none"),children:Object(n.jsx)(e.icon,{size:f[e.size]})})}var f={normal:16,lg:24};function d(e){return Object(n.jsx)(a,{href:e.href,onClick:e.onClick,className:"py-2 px-6 rounded-full text-gray-500 active:text-white bg-gray-100 active:bg-gray-500 outline-none focus:ring text-center",children:e.children})}u.defaultProps={size:"normal"}},15:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return j})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return x})),r.d(t,"f",(function(){return p}));var n=r(8),c=r(38),i=r(9),a=r.n(i),s=r(11),l=r(22),o=r(7),u=r(1);function f(e){var t=Object(l.c)().watch(e.register.name),r=(null===t||void 0===t?void 0:t.length)>0,i=e.register,f=i.ref,d=Object(c.a)(i,["ref"]);return Object(u.jsxs)("div",{className:a()({hidden:e.isHidden},"relative w-16 mb-4 p-2 flex flex-col justify-around items-center focus-within:ring text-gray-400 bg-gray-100 rounded"),children:[Object(u.jsx)("input",Object(n.a)({type:"file",accept:"image/*",className:"absolute w-full h-full opacity-0 cursor-pointer",ref:function(t){f(t),e.innerRef&&(e.innerRef.current=t)}},d)),Object(u.jsx)(o.c,{children:e.label}),!r&&Object(u.jsx)(s.Plus,{size:"1.5em"}),r&&Object(u.jsx)(s.CheckCircle,{size:"1.5em",className:"text-gray-700"})]})}function d(e){return Object(u.jsx)("div",{className:"grid grid-flow-col gap-2",children:e.children})}function j(e){var t=e.appendix,r=e.prependix,i=e.label,a=e.register,s=Object(c.a)(e,["appendix","prependix","label","register"]);return Object(u.jsxs)("label",{className:"flex flex-col mb-4 p-2 rounded bg-gray-100 focus-within:ring text-gray-400 focus-within:text-primary-500 transition-shadow",children:[Object(u.jsx)(o.c,{children:i}),Object(u.jsxs)("div",{className:"flex flex-row",children:[r&&Object(u.jsx)("span",{className:"mr-2 text-gray-400",children:r}),Object(u.jsx)("input",Object(n.a)(Object(n.a)({className:"flex-grow bg-transparent text-black outline-none"},a),s)),t&&Object(u.jsx)("span",{className:"ml-2 text-gray-400",children:t})]})]})}j.defaultProps={type:"text"};var b=r(34);function h(e){var t=Object(l.c)(),r=e.register.name,c=t.watch(r);return Object(u.jsxs)("label",{className:"flex flex-col mb-4 p-2 rounded focus-within:ring text-gray-400 focus-within:text-gray-600",children:[Object(u.jsx)(o.c,{children:"Rating"}),Object(u.jsx)("div",{className:"w-1/2",children:Object(u.jsx)(b.a,{icon:e.icon,value:c,onClick:function(r){t.setValue(e.register.name,r)}})}),Object(u.jsx)("input",Object(n.a)({type:"hidden"},e.register))]})}function x(){return Object(u.jsx)("input",{type:"submit",className:"py-2 px-6 rounded-full text-primary-500 bg-primary-100 active:text-white active:bg-primary-500 cursor-pointer outline-none focus:ring",value:"Save"})}function p(e){var t=e.label,r=e.register,i=Object(c.a)(e,["label","register"]);return Object(u.jsxs)("label",{className:"flex flex-col mb-4 p-2 rounded bg-gray-100 focus-within:ring text-gray-400 focus-within:text-gray-600",children:[Object(u.jsx)(o.c,{children:t}),Object(u.jsx)("textarea",Object(n.a)(Object(n.a)({className:"bg-transparent text-black outline-none"},r),i))]})}h.defaultProps={maxValue:5}},16:function(e,t,r){"use strict";r(43);var n=r(56);r.d(t,"ProfilePage",(function(){return n.a}));var c=r(50);r.d(t,"Identity",(function(){return c.a}));var i=r(51);r.d(t,"ProfilePictureDisplay",(function(){return i.a}));var a=r(57);r.d(t,"useProfile",(function(){return a.a}));r(52)},21:function(e,t,r){"use strict";r(34);var n=r(14);r.d(t,"b",(function(){return n.b})),r.d(t,"c",(function(){return n.c})),r.d(t,"d",(function(){return n.d}));var c=r(7);r.d(t,"a",(function(){return c.d})),r.d(t,"e",(function(){return c.f}))},24:function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"a",(function(){return O}));var n=r(2),c=r.n(n),i=r(23),a=r(20),s=r(63),l=r(62),o=r(60),u=r(31),f=function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(){var e,n;return Object(a.a)(this,r),(n=t.call(this,u.name)).reviews=void 0,n.profiles=void 0,n.version(u.version).stores((e={},Object(i.a)(e,u.tables.reviews,"++id, date"),Object(i.a)(e,u.tables.profiles,"++id"),e)),n.reviews=n.table(u.tables.reviews),n.profiles=n.table(u.tables.profiles),n}return r}(o.a),d=r(3),j=r.n(d),b=r(5),h=r(27),x=function(){function e(t){Object(a.a)(this,e),this._table=void 0,this._table=t.reviews}return Object(h.a)(e,[{key:"get",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._table.get(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"upsert",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._table.put(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._table.orderBy("date").reverse().toArray());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),p=function(){function e(t){Object(a.a)(this,e),this._table=void 0,this._changeListeners=[],this._table=t.profiles}return Object(h.a)(e,[{key:"getFirst",value:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._table.toCollection().first());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"upsert",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._table.put(t);case 2:return r=e.sent,this._changeListeners.forEach((function(e){e(r)})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){this._changeListeners.push(e)}}]),e}(),m=new f,v={reviewsRepository:new x(m),profilesRepository:new p(m)},O=c.a.createContext(v)},25:function(e,t,r){"use strict";r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return c.d}));var n=r(24),c=r(28);r(3),r(5),r(10),r(2)},26:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return b}));var n=r(11),c=r(16),i=r(29),a=r(14),s=r(7),l=r(6),o=r(13),u=r(44),f=r(1);var d=r(45),j={newReview:{name:"New review",paths:["/write"],exactMatch:!1,url:function(){return"/write"},icon:n.Plus,component:i.NewReviewPage},reviews:{name:"Reviews",paths:["/","/reviews/:id?"],exactMatch:!0,url:function(e){return"/reviews/".concat(e||"")},icon:n.Coffee,component:i.ReviewsPage},profile:{name:"Profile",paths:["/profile/:action?"],exactMatch:!0,url:function(e){return"/profile".concat(e?"/edit":"")},icon:n.User,component:c.ProfilePage},fourOhFour:{name:"404",paths:["/404"],exactMatch:!1,url:function(){return"/404"},component:d.a},error:{name:"Error",paths:["/error"],exactMatch:!1,url:function(){return"/error"},component:function(){return Object(f.jsx)(o.a,{browserTitle:"404",children:Object(f.jsxs)("div",{className:"h-full grid justify-center items-end justify-items-center text-center",style:{gridTemplateRows:"1fr auto 1fr auto"},children:[Object(f.jsx)(u.a,{className:"w-20"}),Object(f.jsxs)("div",{children:[Object(f.jsx)(s.d,{children:"There was an error"}),Object(f.jsx)(s.b,{children:"Take a deep breath and have a coffee"})]}),Object(f.jsx)(a.b,{href:l.a.reviews.url(),children:"Go to the Home page"})]})})}}},b=[j.newReview,j.reviews,j.profile,j.error,j.fourOhFour]},28:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return l})),r.d(t,"d",(function(){return o}));var n=r(3),c=r.n(n),i=r(5);function a(e){return new Date(e).toLocaleDateString(void 0,{dateStyle:"short"})}function s(e){return new Date(e).getFullYear()}function l(e){return e?(new Intl.NumberFormat).format(e):""}function o(e){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=new FileReader;r.onload=function(t){var r;return e(null===(r=t.target)||void 0===r?void 0:r.result)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},29:function(e,t,r){"use strict";var n=r(55);r.d(t,"ReviewsPage",(function(){return n.a}));var c=r(54);r.d(t,"NewReviewPage",(function(){return c.a}));var i=r(58);r.d(t,"ReviewCard",(function(){return i.a}));r(53)},31:function(e){e.exports=JSON.parse('{"name":"my-coffee-choice-db","version":2,"tables":{"reviews":"reviews","profiles":"profiles"}}')},33:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(11),c=r(1);function i(){return Object(c.jsxs)("div",{className:"flex-grow flex flex-col justify-center text-primary-500 text-center",children:[Object(c.jsx)(n.Coffee,{className:"mx-auto mb-2 animate-pulse",size:48,strokeWidth:"1px"}),Object(c.jsx)("p",{className:"font-display text-2xl",children:"Loading..."})]})}},34:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r(33),r(41);var n=r(9),c=r.n(n),i=r(1);function a(e){if(e.maxValue<1||e.maxValue<e.value)throw new Error("Rating.maxValue cannot be less than 1 or less than Rating.value.");return Object(i.jsx)("div",{className:"grid grid-flow-col gap-2 justify-start",children:function(){for(var t=[],r=function(r){var n=r<=e.value;t.push(Object(i.jsx)("img",{src:e.icon,alt:"Rating ".concat(r),title:"Rating ".concat(r),onClick:e.onClick?function(){var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e,r)}:void 0,className:c()("h-8 transition-opacity",{"opacity-25":!n},{"filter invert":e.isLight},{"cursor-pointer":e.onClick})},"rating-".concat(r)))},n=1;n<=e.maxValue;n++)r(n);return t}()})}a.defaultProps={maxValue:5};r(36)},36:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(8),c=r(1);function i(e){return Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("div",{className:"p-2 text-primary-500 bg-primary-100 rounded-full",children:Object(c.jsx)(e.icon,Object(n.a)({size:16},e))}),e.children&&Object(c.jsx)("div",{className:"ml-2",children:e.children})]})}},41:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(9),c=r.n(n),i=r(11),a=r(7),s=r(1);function l(e){return Object(s.jsx)("div",{className:c()("p-8 px-10 bg-gray-50 rounded-lg",e.className),children:Object(s.jsxs)(a.b,{className:"text-center",children:[Object(s.jsx)(i.Frown,{className:"mx-auto mb-2",size:"2.5em",strokeWidth:"1px"}),"We found nothing to show"]})})}},42:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(1);function c(e){return Object(n.jsx)("span",{style:{fontSize:"0.8em"},children:e.children})}},43:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r(2),c=r(4),i=r(6),a=r(25),s=r(13),l=r(8),o=r(3),u=r.n(o),f=r(5),d=r(10),j=r(11),b=r(22),h=r(21),x=r(15),p=r(16),m=r(1);function v(e){var t,r=Object.assign({},e.profile),c=Object(b.b)({defaultValues:r}),i=Object(n.useRef)(null),s=c.register("newPicture"),o=null===(t=c.watch("newPicture"))||void 0===t?void 0:t[0],v=Object(n.useState)(r.picture),O=Object(d.a)(v,2),g=O[0],w=O[1];return Object(n.useEffect)((function(){(function(){var e=Object(f.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,Object(a.b)(o);case 3:t=e.sent,w(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o,w]),Object(m.jsx)(b.a,Object(l.a)(Object(l.a)({},c),{},{children:Object(m.jsxs)("form",{onSubmit:c.handleSubmit((function(t,r){t.picture=g,delete t.newPicture,e.onSubmit(t)})),className:"h-full flex flex-col",children:[Object(m.jsxs)("div",{className:"flex-grow",children:[Object(m.jsx)("div",{className:"mb-4 text-center",children:Object(m.jsxs)("div",{className:"relative inline-block",children:[Object(m.jsx)(p.ProfilePictureDisplay,{src:g}),Object(m.jsx)("div",{className:"absolute -bottom-1 -right-1",children:Object(m.jsx)(h.c,{icon:j.Edit2,onClick:function(e){var t;e.preventDefault(),null===i||void 0===i||null===(t=i.current)||void 0===t||t.click()},size:"lg"})})]})}),Object(m.jsx)(x.c,{label:"Name",register:c.register("name",{required:!0})}),Object(m.jsx)(x.a,{isHidden:!0,label:"Picture",register:s,innerRef:i})]}),Object(m.jsxs)(x.b,{children:[Object(m.jsx)(h.d,{onClick:e.onCancel,children:"Cancel"}),Object(m.jsx)(x.e,{})]})]})}))}function O(e){var t=Object(c.f)(),r=Object(n.useContext)(a.a);return Object(m.jsx)(s.a,{browserTitle:"My Profile",children:Object(m.jsx)("div",{className:"flex-grow mt-4",children:Object(m.jsx)(v,{profile:e.profile,onSubmit:function(e){e.createdOn||(e.createdOn=(new Date).toISOString());r.profilesRepository.upsert(e),l()},onCancel:l})})});function l(){t.push(i.a.profile.url())}}},44:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n,c,i=r(2);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function l(e,t){var r=e.title,l=e.titleId,o=s(e,["title","titleId"]);return i.createElement("svg",a({width:"100%",height:"100%",viewBox:"0 0 125 175",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1.5},ref:t,"aria-labelledby":l},o),r?i.createElement("title",{id:l},r):null,i.createElement("rect",{id:"Plan-de-travail1",x:0,y:0,width:125,height:175,style:{fill:"#fff"}}),i.createElement("g",{id:"Cafoups-"},i.createElement("ellipse",{cx:78.378,cy:159.596,rx:46.622,ry:15.404,style:{fill:"#e2e2e2"}}),i.createElement("path",{d:"M26.985,166.371l96.713,-0",style:{fill:"none",stroke:"#000",strokeWidth:"2.5px"}}),i.createElement("path",{d:"M90.584,52.86c10.852,21.758 -74.825,58.297 -82.984,38.782c11.907,34.642 40.117,72.924 50.622,73.295c26.301,-4.354 42.917,-12.358 56.405,-27.203c2.593,-10.383 -6.836,-52.511 -24.043,-84.874Z",style:{fill:"#fff"}}),n||(n=i.createElement("clipPath",{id:"_clip1"},i.createElement("path",{d:"M90.584,52.86c10.852,21.758 -74.825,58.297 -82.984,38.782c11.907,34.642 40.117,72.924 50.622,73.295c26.301,-4.354 42.917,-12.358 56.405,-27.203c2.593,-10.383 -6.836,-52.511 -24.043,-84.874Z"}))),i.createElement("g",{clipPath:"url(#_clip1)"},i.createElement("path",{d:"M80.028,75.144c0,0 23.926,47.199 16.705,76.887c-0,0 13.496,-9.47 18.245,-14.648c2.593,-10.383 -7.187,-52.16 -24.394,-84.523c4.17,8.805 -4.217,16.359 -10.556,22.284Z",style:{fill:"#e2e2e2"}})),i.createElement("path",{d:"M90.584,52.86c10.852,21.758 -74.825,58.297 -82.984,38.782c11.907,34.642 40.117,72.924 50.622,73.295c26.301,-4.354 42.917,-12.358 56.405,-27.203c2.593,-10.383 -6.836,-52.511 -24.043,-84.874Z",style:{fill:"none",stroke:"#000",strokeWidth:"2.5px"}}),i.createElement("path",{d:"M7.554,91.529c-3.833,-9.618 14.539,-23.348 35.056,-32.653c20.597,-9.342 43.355,-14.226 47.974,-6.016c5.426,10.879 -13.28,25.453 -34.363,34.868c-21.082,9.416 -44.541,13.671 -48.621,3.914l-0.046,-0.113Z",style:{fill:"#fff"}}),c||(c=i.createElement("clipPath",{id:"_clip2"},i.createElement("path",{d:"M7.554,91.529c-3.833,-9.618 14.539,-23.348 35.056,-32.653c20.597,-9.342 43.355,-14.226 47.974,-6.016c5.426,10.879 -13.28,25.453 -34.363,34.868c-21.082,9.416 -44.541,13.671 -48.621,3.914l-0.046,-0.113Z"}))),i.createElement("g",{clipPath:"url(#_clip2)"},i.createElement("path",{d:"M8.789,92.132c-6.864,-5.005 10.447,-25.966 47.563,-38.6c-1.534,9.868 -2.087,18.085 12.025,27.949c-18.737,10.471 -51.352,23.185 -59.588,10.651Z",style:{fill:"#e2e2e2"}})),i.createElement("path",{d:"M7.554,91.529c-3.833,-9.618 14.539,-23.348 35.056,-32.653c20.597,-9.342 43.355,-14.226 47.974,-6.016c5.426,10.879 -13.28,25.453 -34.363,34.868c-21.082,9.416 -44.541,13.671 -48.621,3.914l-0.046,-0.113Z",style:{fill:"none",stroke:"#000",strokeWidth:"2.5px"}}),i.createElement("path",{d:"M36.34,121.467c-2.169,-3.354 5.127,-10.913 10.167,-2.377",style:{fill:"none",stroke:"#000",strokeWidth:"2.5px"}}),i.createElement("path",{d:"M68.1,81.73c-0,0 -0.783,-0.476 -5.732,-0.846c-16.963,-1.266 -37.264,-15.919 -37.49,-44.66c-0.945,-20.399 -35.332,13.44 -17.098,55.738c10.624,14.626 55.962,-7.39 60.32,-10.232Z",style:{fill:"#36180d",stroke:"#000",strokeWidth:"2.5px"}}),i.createElement("path",{d:"M25.075,2.964c7.634,-3.9 17.074,6.233 5.509,13.611c-12.176,7.768 -14.336,-9.103 -5.509,-13.611Z",style:{fill:"#36180d",stroke:"#000",strokeWidth:"2.5px"}}),i.createElement("path",{d:"M49.327,112.421c6.086,-0.974 5.167,-10.285 -0.768,-9.858c-7.482,0.538 -6.125,10.961 0.768,9.858Z",style:{stroke:"#000",strokeWidth:"2.5px"}}),i.createElement("path",{d:"M29.252,116.678c6.086,-0.974 5.167,-10.285 -0.768,-9.858c-7.481,0.538 -6.125,10.961 0.768,9.858Z",style:{stroke:"#000",strokeWidth:"2.5px"}}),i.createElement("path",{d:"M54.632,101.452c2.245,1.502 3.07,4.641 2.462,8.232",style:{fill:"none",stroke:"#000",strokeWidth:"1.25px"}})))}var o=i.forwardRef(l);r.p},45:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),c=r(7),i=r(6),a=r(13),s=r(44),l=r(1);function o(){return Object(l.jsx)(a.a,{browserTitle:"404",children:Object(l.jsxs)("div",{className:"h-full grid justify-center items-end justify-items-center text-center",style:{gridTemplateRows:"1fr auto 1fr auto"},children:[Object(l.jsx)(s.a,{className:"w-20"}),Object(l.jsxs)("div",{children:[Object(l.jsx)(c.d,{children:"This page doesn't exist"}),Object(l.jsx)(c.b,{children:"Take a deep breath and have a coffee"})]}),Object(l.jsx)(n.b,{href:i.a.reviews.url(),children:"Go to the Home page"})]})})}},50:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(8),c=r(9),i=r.n(c),a=r(21),s=r(16),l=r(1);function o(e){var t=Object(s.useProfile)();return Object(l.jsxs)("div",{className:i()({"flex items-center space-x-2":"sm"===e.size},"inline-block"),children:[Object(l.jsx)(s.ProfilePictureDisplay,Object(n.a)({src:t.picture},e)),e.isNameDisplayed&&"xxl"===e.size&&Object(l.jsx)(a.a,{children:t.name}),e.isNameDisplayed&&"sm"===e.size&&Object(l.jsx)(a.e,{children:t.name})]})}o.defaultProps={size:"xxl"}},51:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(9),c=r.n(n),i=r(1);function a(e){return Object(i.jsx)("img",{src:e.src,alt:"Profile",className:c()({"w-8 h-8":"sm"===e.size},{"w-36 h-36":"xxl"===e.size},"inline-block mx-auto rounded-full")})}a.defaultProps={size:"xxl"}},52:function(e,t){},53:function(e,t){},536:function(e,t,r){},537:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r.n(n),i=r(59),a=r.n(i),s=r(24),l=r(37),o=r(4),u=r(13),f=r(45),d=r(26),j=r(1);function b(){return Object(j.jsx)(l.a,{basename:"/mycoffee",children:Object(j.jsxs)(o.c,{children:[d.b.map((function(e){return Object(j.jsx)(o.a,{path:e.paths,exact:e.exactMatch,children:Object(j.jsx)(u.b,{children:Object(j.jsx)(e.component,{})})},e.paths.join())})),Object(j.jsx)(o.a,{path:"*",children:Object(j.jsx)(u.b,{children:Object(j.jsx)(f.a,{})})})]})})}var h=function(){return Object(j.jsx)(s.a.Provider,{value:s.b,children:Object(j.jsx)(b,{})})},x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var m=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,538)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),i(e),a(e)}))};r(536);a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/mycoffee",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/mycoffee","/service-worker.js");x?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):p(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):p(t,e)}))}}(),m()},54:function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var n=r(3),c=r.n(n),i=r(8),a=r(5),s=r(10),l=r(2),o=r(4),u=r(6),f=r(25),d=r(13),j=r(22),b=r(14),h=r(15),x=r(7),p=r.p+"static/media/coffee-bean-brown.97c82b77.svg",m=r(1);function v(e){var t=Object(j.b)();return Object(m.jsx)(j.a,Object(i.a)(Object(i.a)({},t),{},{children:Object(m.jsxs)("form",{onSubmit:t.handleSubmit(e.onSubmit),className:"h-full flex flex-col",children:[Object(m.jsxs)("div",{className:"flex-grow",children:[Object(m.jsxs)("div",{className:"grid grid-flow-col gap-4",style:{gridTemplateColumns:"1fr auto"},children:[Object(m.jsx)("div",{className:"flex-grow",children:Object(m.jsx)(h.c,{label:"Coffee",register:t.register("coffee",{required:!0})})}),Object(m.jsx)(h.a,{label:"Picture",register:t.register("picture")})]}),Object(m.jsx)(h.f,{label:"Review",register:t.register("content",{required:!0})}),Object(m.jsx)(x.e,{children:"Additional information"}),Object(m.jsx)(h.c,{label:"Shop name",register:t.register("shop")}),Object(m.jsx)(h.c,{label:"Price",type:"number",step:"0.01",appendix:"\u20ac / 100 g",register:t.register("price",{valueAsNumber:!0})}),Object(m.jsx)(h.d,{label:"Rating",icon:p,register:t.register("rating",{valueAsNumber:!0})})]}),Object(m.jsxs)(h.b,{children:[Object(m.jsx)(b.d,{onClick:e.onCancel,children:"Cancel"}),Object(m.jsx)(h.e,{})]})]})}))}var O=r(11);function g(e){return Object(m.jsxs)("div",{className:"flex flex-col flex-grow",children:[Object(m.jsxs)("div",{className:"flex flex-col flex-grow justify-center items-center text-lg text-primary-500",children:[Object(m.jsx)(O.CheckCircle,{size:"2.5em"}),Object(m.jsx)("p",{className:"mt-4",children:"Your review was correctly saved!"})]}),e.onBackClicked&&Object(m.jsxs)("div",{className:"grid grid-cols-2 gap-2 justify-items-stretch",children:[Object(m.jsx)(b.d,{onClick:e.onBackClicked,children:"Go back"}),Object(m.jsx)(b.b,{href:u.a.reviews.url(e.reviewId),children:"See the review"})]}),!e.onBackClicked&&Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)(b.b,{href:u.a.reviews.url(e.reviewId),children:"See the review"})})]})}function w(){var e=Object(o.f)(),t=Object(l.useContext)(f.a),r=Object(l.useState)(null),n=Object(s.a)(r,2),j=n[0],b=n[1];return Object(m.jsxs)(d.a,{heading:j?void 0:"Write a New Review",browserTitle:"New Review",children:[!j&&Object(m.jsx)(v,{onSubmit:function(e){return h.apply(this,arguments)},onCancel:function(){return e.push(u.a.reviews.url())}}),j&&Object(m.jsx)(g,{reviewId:j,onBackClicked:function(){return b(null)}})]});function h(){return(h=Object(a.a)(c.a.mark((function e(r){var n,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.picture){e.next=6;break}return e.next=3,Object(f.b)(r.picture[0]);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0="";case 7:return n=e.t0,a=Object(i.a)(Object(i.a)({},r),{},{picture:n,date:(new Date).toISOString()}),e.next=11,t.reviewsRepository.upsert(a);case 11:(s=e.sent)&&b(s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},55:function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var n=r(4),c=r(3),i=r.n(c),a=r(5),s=r(10),l=r(2),o=r(11),u=r(7),f=r(6),d=r(29),j=r(16),b=r(13),h=r(24),x=r(28),p=r(36),m=r(42),v=r(33),O=r(1);function g(e){var t=Object(n.f)(),r=Object(l.useContext)(h.a),c=Object(l.useState)(!0),g=Object(s.a)(c,2),w=g[0],y=g[1],N=Object(l.useState)(void 0),k=Object(s.a)(N,2),R=k[0],C=k[1];return Object(l.useEffect)((function(){(function(){var t=Object(a.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.reviewsRepository.get(e.id);case 2:n=t.sent,C(n),y(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[r.reviewsRepository,t,e.id]),w?Object(O.jsx)(v.a,{}):R?Object(O.jsxs)(b.a,{browserTitle:R.coffee,children:[Object(O.jsx)(d.ReviewCard,{review:R}),Object(O.jsxs)("div",{className:"px-2",children:[Object(O.jsxs)("div",{className:"grid grid-rows-2 gap-4 mt-4 text-primary-500",children:[Object(O.jsxs)("div",{className:"grid grid-cols-2 text-primary-500",children:[Object(O.jsx)(p.a,{icon:o.Calendar,children:Object(x.b)(R.date)}),Object(O.jsxs)(p.a,{icon:o.DollarSign,children:[Object(x.a)(R.price),"\xa0",Object(O.jsx)(m.a,{children:"\u20ac / 100 g"})]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(p.a,{icon:o.MapPin,children:R.shop})})]}),Object(O.jsx)(u.e,{children:Object(O.jsx)(j.Identity,{size:"sm",isNameDisplayed:!0})}),Object(O.jsx)("p",{className:"text-justify",children:R.content})]})]}):(t.replace(f.a.fourOhFour.url()),null)}var w=r(14),y=r(41);function N(){var e=Object(l.useContext)(h.a),t=Object(l.useState)(!0),r=Object(s.a)(t,2),n=r[0],c=r[1],o=Object(l.useState)([]),u=Object(s.a)(o,2),j=u[0],x=u[1];return Object(l.useEffect)((function(){(function(){var t=Object(a.a)(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.reviewsRepository.getAll();case 2:r=t.sent,x(r),c(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.reviewsRepository]),n?Object(O.jsx)("div",{className:"h-full flex flex-col justify-center",children:Object(O.jsx)(v.a,{})}):Object(O.jsxs)(b.a,{heading:"Your Reviews",browserTitle:"Reviews",children:[0===j.length&&Object(O.jsxs)("div",{className:"h-full flex flex-col justify-between items-center self-center text-center",children:[Object(O.jsx)(y.a,{className:"align-stretch"}),Object(O.jsx)(w.b,{href:f.a.newReview.url(),children:"Write a review"})]}),j.length>0&&Object(O.jsx)("div",{className:"w-full flex flex-wrap",children:j.map((function(e){return Object(O.jsx)("div",{className:"mr-2 mb-2",children:Object(O.jsx)(d.ReviewCard,{review:e,href:f.a.reviews.url(e.id),isSmall:!0})},e.id)}))})]})}function k(){var e=Object(n.g)().id,t=Number(e);return null===t||isNaN(t)?Object(O.jsx)(N,{}):Object(O.jsx)(g,{id:t})}},56:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(4),c=r(6),i=r(16),a=r(21),s=r(7),l=r(13),o=r(28),u=r(1);function f(e){return Object(u.jsx)(l.a,{browserTitle:"My Profile",children:Object(u.jsxs)("div",{className:"h-full flex flex-col items-center",children:[Object(u.jsxs)("div",{className:"flex-grow mt-4 text-center",children:[Object(u.jsx)(i.Identity,{isNameDisplayed:!0}),e.profile.createdOn&&Object(u.jsxs)(s.b,{children:["Since ",Object(o.c)(e.profile.createdOn)]})]}),Object(u.jsx)(a.b,{href:c.a.profile.url("edit"),children:"Edit"})]})})}var d=r(43);function j(){var e=Object(n.g)().action,t=Object(n.f)(),r=Object(i.useProfile)();return e?"edit"===e?Object(u.jsx)(d.a,{profile:r}):(t.replace(c.a.fourOhFour.url()),null):Object(u.jsx)(f,{profile:r})}},57:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(3),c=r.n(n),i=r(5),a=r(10),s=r(2),l=r(25),o={name:"Unnamed",picture:r.p+"static/media/profile-picture.a9136072.png"};function u(){var e=Object(s.useContext)(l.a),t=Object(s.useState)(o),r=Object(a.a)(t,2),n=r[0],u=r[1];return Object(s.useEffect)((function(){var t=function(){var t=Object(i.a)(c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.profilesRepository.getFirst();case 2:(r=t.sent)&&u(r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.profilesRepository.onChange(t),t()}),[e.profilesRepository]),n}},58:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(9),c=r.n(n),i=r(34),a=r(6),s=r.p+"static/media/coffee-bean.2ba98838.svg",l=r(1);function o(e){return Object(l.jsx)(a.c,{href:e.href,children:Object(l.jsxs)("div",{className:c()("relative rounded-lg bg-cover bg-center",{"w-40 h-40":e.isSmall},{"w-full h-48":!e.isSmall}),style:{backgroundImage:"url(".concat(e.review.picture)},children:[Object(l.jsx)("div",{className:"absolute top-0 h-full w-full rounded-lg bg-black opacity-50"}),Object(l.jsxs)("div",{className:"absolute bottom-0 w-full p-4 pb-2 text-lg text-white",children:[Object(l.jsx)("span",{className:c()({"font-display":!0},{"text-2xl":e.isSmall},{"text-4xl":!e.isSmall}),children:e.review.coffee}),Object(l.jsx)("div",{className:c()({"w-3/4":e.isSmall},{"w-2/5 mt-1":!e.isSmall}),children:Object(l.jsx)(i.a,{value:e.review.rating,icon:s,isLight:!0})})]})]})})}},6:function(e,t,r){"use strict";r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return d}));var n=r(26),c=r(7),i=r(1);function a(){return Object(i.jsx)("header",{className:"sticky z-50 top-0 p-4 w-full flex flex-row justify-between items-center bg-white text-primary-500 border-b border-gray-100 shadow",children:Object(i.jsx)(c.a,{link:n.a.reviews.url(),logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEL0lEQVRoge3ZW4hVVRgH8J/WdDFLCIMumllT5hgFWVqU3SCiSLIoyp4ifBAqJCOkIIhKukAPvQQFvWSgYU2IWUEEkWlGdwiloRtlanmJGkfLmeb0sNbhnHZn387sOePD/OGDmb2+9a3vf/Za3/qvtRnHOA4r9GAlPsQeDGEnNuNRnDt2qRXDWXgDw6hl2D9Yi5ljk2Y2lmBANoGk/Ym7xiLZNDypHIGkPY4JHc86geXSE/wb83BZhk/dVnY68WbcIcz3tOSei35zMnyabUym2TRhjqcldQinRt/XMvyabQDdHWMQ0ZuT1FvRr0d+FWu2D3RwvdxYIKH6NGmnENzcIR42FUjm7Oi7pSSJGj7qBIkLCiZzbPTfW9B/EOtwOyZ1gsgLBROrJ3Mgx28IqzTeIHRhvlDae9GnsdkewFasxzKc2Q6JiYr/wqfHPr9k+GzC7Kb4M4Q19VvBMWpC+V+d+CFycX6JAebHPu+3aDuIB3FE9DlD0F5DJeInrR+3FCVyb4nAy2KfpxLPd+Hi2NaFFcprtDQbxuIiRNaUCNob+8xretYnKGSYjs8rIpB827nT7LOSAU+M/b7CNpwU/5+LHaNAom7r84j8WjLg8tjvWo3FfwP2V5j0Fbgy8WxYzuEtr5QmbScmN/W/SnhTVZH4I8ad3KLtkSwi7VSVutzoxu8VkqgJR2k4r0Xbu1lE9pUc6GOhxHbhy4pJ1HBPzKvVmWhHFpHvSwwyJOw7hBJbNYlvcFT8oba2aB8UNvCWKCMAV8U+M1S7uGvC2pgT4y9J8TmURoLiOmsIs2KftRWT+FkQriKZtB9pdxaRpQUHezP6zzAy2dFsw3gZU2Ps2fgpw78vi0hRrXVb9H+6AgIDeFFjKsFN8sXrhiwi8G1OgH4cHW13m8nviskv1DjXEMTl6oIxVuQReSYnwDvRb0EbyT+Ly/232kyMz9YIlahovEvziMySfQX0UPR7uOCA+3AfjmkaYxIW4SXlZVEt9unKIwKvZwRZGH3eLjDgFpwS/SfEvuuUl0JJK3zZN1f6W+mJPt/lDNar8RYW4JMRJl+3IQ2BWgjPpwSqS/csOfM1jot+9ys39/NsdRkSMAXbWwQ6QZgmWfvHRTHG3RUSqAk3n9PKEoFL/F+WTxH0T9rUq6vSk418LSStfv5pC3cmkq4faNKqzdLY/ljFJD7FkSMhQrhU+ysGvC4+ey9lwAtj++YKSewRNstUpMrgBF4VjrM/CN9CCJfRrVAXc9MLxs7DQeHw9mNF8RA2slvj33O0voU/PrZnfZIoav24vkoCadjQYvCrhSIxUhLbNabpqOMc1V42NC/s0zpFoo7Fyn3oybL9eEAF1aldLBKOp+0SGBTUbynpMVroxivKnRh34QkVVLjR+JY3U/h0d42weU4V9NneaNuwUbiz+kIgPo5xHK74FwxbncYEMd42AAAAAElFTkSuQmCC",children:"My Coffee"})})}var s=r(37);function l(e){return e.href?Object(i.jsx)(s.b,{to:e.href,title:e.title,className:e.className,children:e.children}):Object(i.jsx)("span",{className:e.className,children:e.children})}var o=r(9),u=r.n(o),f=r(4);function d(){var e=[n.a.reviews,n.a.profile,n.a.newReview],t=Object(f.h)();return Object(i.jsx)("nav",{children:Object(i.jsx)("ul",{className:"grid grid-flow-col grid-cols-3 text-center",children:e.map((function(e){var r=e.paths.includes(t.path);return Object(i.jsx)("li",{className:u()("rounded-md text-xs transition-colors",{"text-primary-500":r}),children:Object(i.jsxs)(s.b,{to:e.url(),className:"inline-block p-4 pb-2 rounded-md focus:bg-primary-100 outline-none",children:[e.icon&&Object(i.jsx)(e.icon,{size:24,className:"mx-auto"}),Object(i.jsx)("span",{className:u()({"opacity-0":!r},{"opacity-1":r},"transition-opacity"),children:e.name})]})},e.paths.join())}))})})}},7:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return j}));var n=r(6),c=r(1);function i(e){return Object(c.jsxs)(n.c,{href:e.link,title:"Go to the home page",className:"flex flex-row items-center",children:[e.logo&&Object(c.jsx)("img",{alt:"Logo",src:e.logo,className:"h-7 mr-2"}),Object(c.jsx)("h1",{className:"text-2xl",children:e.children})]})}var a=r(9),s=r.n(a);function l(e){return Object(c.jsx)("p",{className:s()("text-gray-500 text-sm",e.className),children:e.children})}function o(e){return Object(c.jsx)("span",{className:"mb-2 uppercase text-xs",children:e.children})}function u(e){return Object(c.jsx)("h2",{className:s()("my-4 text-3xl tracking-wide text-primary-500",e.className),children:e.children})}var f=r(21);function d(e){return Object(c.jsxs)("div",{className:"flex flex-row justify-center items-center mt-10 mb-4",children:[Object(c.jsx)(f.e,{children:e.children}),Object(c.jsx)("div",{className:"flex-grow ml-2 border-b border-primary-100"})]})}r(42);function j(e){return Object(c.jsx)("h3",{className:"text-xl tracking-wide text-primary-500",children:e.children})}}},[[537,1,2]]]);
//# sourceMappingURL=main.53588c31.chunk.js.map